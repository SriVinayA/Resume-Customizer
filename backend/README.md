# Job Application Processor API

A FastAPI-based service that processes job applications by parsing a job description (text) and a resume (PDF). It extracts key details, generates tailored content, and can customize resumes using the DeepSeek AI.

## Features

- Accept a job description as text and a resume (PDF) as inputs
- Parse and extract relevant information from both documents
- Generate tailored content using the DeepSeek API
- Customize resumes to better match job descriptions
- Return the tailored content as a structured response
- Generate professional PDF versions of customized resumes through LaTeX

## Setup

1. Install the required dependencies:

```bash
pip install -r requirements.txt
```

2. Set up your environment variables by creating a `.env` file with your DeepSeek API key:

```
DEEPSEEK_API_KEY=your-api-key-here
```

3. Install LaTeX for PDF generation (required for resume PDF generation):

For macOS:
```bash
brew install --cask mactex
```

For Ubuntu/Debian:
```bash
sudo apt-get install texlive-full
```

For Windows:
```
Download and install MiKTeX from https://miktex.org/download
```

## Running the Application

Start the application using Uvicorn:

```bash
uvicorn main:app --reload
```

The API will be available at: http://localhost:8000

## API Endpoints

### Health Check

```
GET /health
```

Returns the health status of the API.

### Process Application

```
POST /process-application/
```

Accepts a job description as text and a resume PDF, processes them, and returns tailored content.

#### Required Parameters:

- `job_description_text`: The job description as text (in form data)
- `resume`: A PDF file containing the applicant's resume

#### Response:

The API response includes:
- Parsed job description (sectioned)
- Parsed resume (sectioned)
- Tailored content generated by DeepSeek API, including:
  - Matching skills
  - Skill gaps
  - Cover letter talking points
  - Fit summary

### Customize Resume

```
POST /customize-resume/
```

Accepts a job description as text and a resume PDF, then generates a customized version of the resume that better matches the job description, following strict preservation and modification rules. It also generates a professionally formatted PDF version of the resume.

#### Required Parameters:

- `job_description_text`: The job description as text (in form data)
- `resume`: A PDF file containing the applicant's resume

#### Response:

The API response includes:
- `success`: Boolean indicating if the operation was successful
- `customized_resume`: The customized resume content with sections:
  - personal_info (unchanged from original)
  - education (preserved according to rules)
  - experience (modified according to rules, including job titles)
  - skills (optimized according to rules)
  - projects (evaluated and modified/added according to rules)
  - modifications_summary (explains changes made)
- `pdf_path`: Path to the generated PDF file 
- `json_path`: Path to the saved JSON file

#### Customization Rules:

The API follows these rules when customizing a resume:

1. **Preservation Rules (DO NOT MODIFY)**:
   - Education Section (degrees, institutions, dates)
   - Company names in work experience
   - Employment dates

2. **Required Modifications**:
   - Job Titles: Change job titles in experience section to match the target role
   - Skills: Prioritize job description keywords, add missing relevant ones
   - Role Descriptions: Align bullet points with job description requirements
   - Projects: Delete irrelevant projects, modify relevant ones, and add new ones if needed

3. **Content Adaptation**:
   - Cross-Analysis: Identify matches and gaps between resume and job
   - Experience Rewriting: Reorient role details while preserving facts
   - Skill Optimization: Map and enhance skills to match job requirements

## Example Usage

Using cURL:

```bash
curl -X POST "http://localhost:8000/process-application/" \
  -H "Content-Type: multipart/form-data" \
  -F "job_description_text=This is a job description for a Software Engineer position..." \
  -F "resume=@path/to/resume.pdf"
```

Using cURL with the customize-resume endpoint:

```bash
curl -X POST "http://localhost:8000/customize-resume/" \
  -H "Content-Type: multipart/form-data" \
  -F "job_description_text=This is a job description for a Software Engineer position..." \
  -F "resume=@path/to/resume.pdf"
```

## Troubleshooting

If you encounter installation issues:

1. Make sure you're using Python 3.8+ (some dependency issues occur with newer Python versions)
2. If you encounter build errors with PyPDF2, try using an alternative:
   ```
   pip install pdfminer.six
   ```
   And update the PDF parsing code accordingly

3. For macOS users experiencing build issues, consider using Conda instead of pip:
   ```
   conda create -n job-app-env python=3.9
   conda activate job-app-env
   pip install -r requirements.txt
   ```

## Documentation

FastAPI automatically generates interactive API documentation:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc 